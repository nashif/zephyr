# Tracing configuration options

# Copyright (c) 2019 Intel Corporation
# SPDX-License-Identifier: Apache-2.0

config TRACING
	bool "Enable System Tracing"
	help
	  Enable system tracing. This option will enable all tracing macros which
	  are defined and set to do nothing when there is no backend enabled. A
	  backend in this context implements the tracing events in a format that is
	  compatible with what an application on the host side would expect.

	  This requires a backend such as SEGGER Systemview or CTF to be enabled.

config TRACING_CPU_STATS
	bool "Enable CPU usage tracing"
	select THREAD_MONITOR
	select THREAD_STACK_INFO
	select TRACING
	help
	  Module provides information about percent of CPU usage based on
	  tracing hooks for threads switching in and out, interrupts enters
	  and exits (only distinguishes between idle thread, non idle thread
	  and scheduler).

	  Use provided API or enable automatic logging to get values.

config TRACING_CPU_STATS_LOG
	bool "Enable current CPU usage logging"
	depends on TRACING_CPU_STATS
	help
	  Periodically displays information about CPU usage.

config TRACING_CPU_STATS_INTERVAL
	int "Logging interval for CPU measurements [ms]"
	default 2000
	depends on TRACING_CPU_STATS_LOG
	help
	  Time period of displaying information about CPU usage.

config TRACING_CTF
	bool "Tracing via Common Trace Format support"
	select THREAD_MONITOR
	 select TRACING
	help
	  Enable tracing to a Common Trace Format stream.

	  In order to use it a CTF bottom layer should be selected,
	  such as TRACING_CTF_BOTTOM_POSIX.

config TRACING_CTF_BOTTOM_POSIX
	bool "CTF backend for the native_posix port, using a file in the host filesystem"
	depends on TRACING_CTF
	depends on ARCH_POSIX
	help
	  Enable POSIX backend for CTF tracing. It will output the CTF stream to a
	  file using fwrite.

config SEGGER_SYSTEMVIEW
	bool "Segger SystemView support"
	depends on USE_SEGGER_RTT
	select RTT_CONSOLE
	select THREAD_MONITOR
	select THREAD_STACK_INFO
	select TRACING

